# Вариант 1 (МАТ)

- Для выполнения работы использовалась библиотека `automata-lib` для Python, 
которая предоставляет огромный набор функций для работы с автоматами.

## Генерация лабиринта
Для генерации лабиринта сначала генерируется случайное регулярное выражение
длины, равной ограничению сверху из файла `paraneters.txt`, 
по которому затем строится НКА с помощью метода 
`from_regex`. Проводится детерминизация НКА, а в полученном 
ДКА удаляются финальные состояния, которые не являются тупиковыми
(такая ситуация возможна из-за случайной генерации регулярок). 
Стоит отметить, что язык итогового лабиринта не совпадает с языком
регулярки, с помощью которой он генерировался 
(из-за удаления финальных состояний и возможных последующих
преобразований, описанных ниже). Если количество состояний полученного
лабиринта больше ограничения (происходит нечасто), то проводится
перегенерация лабиринта.

### Основные моменты генерации
- Из-за моих хитростей с регулярками случайный планарный лабиринт с проведённой
минимизацией почти всегда получается намного меньше верхней границы 
по количеству вершин,
поскольку сначала генерируется регулярка, затем она переводится в НКА, потом
в ДКА, после проводится минимизация
и (поскольку по условию лабиринт планарен)
делается планаризация (если передан соответствующий аргумент) 
путём выделения остовных деревьев, 
затем снова минимизация. После минимизации лабиринт иногда опять становится
непланарным, поэтому действия по планаризации и минимизации происходят в цикле.
В конце концов, лабиринт получается сильно меньше верхней границы. 
- Кроме того, при больших значениях верхней границы генерация лабиринта
может занимать большое время, так как (в силу случайности регулярки) 
иногда количество состояний выходит за рамки ограничения сверху, а еще 
иногда в лабиринте нету тупиковых финальных состояний: как я ни пытался 
это исправить, получилось только уменьшить количество таких случаев, но
не избавиться от них.
- Поскольку наиболее интересные лабиринты получаются без использования 
планаризации, была добавлена возможность генерации лабиринта с разными 
параметрами: с выполнением 
планаризации и без нее: настройки передаются через необязательный аргумент
командной строки `-p`. Для выполнения планаризации нужно передать `-p yes` 
или любую другую строку, кроме `No`. По дефолту планаризация не выполняется.
- При генерации лабиринтов длины 1-3 могут быть проблемы с бесконечным 
ожиданием.